(this["webpackJsonptotal-recipes"]=this["webpackJsonptotal-recipes"]||[]).push([[0],{26:function(e,t,a){},28:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},34:function(e,t,a){e.exports=a(52)},36:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);a(35),a(36);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),i=a(28),s=a.n(i),o=a(32),u=a(8),m=a(9),h=a(13),p=a(11),d=a(10),E=a(65),b=a(16),f=a(6),v=a(19),g=a(20),y=a(15),C="https://api-rest-total-p.herokuapp.com/api",j=function(e,t){return"".concat(C,"/recipe/").concat(e,"/setcalification/").concat(t)},O=(a(26),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({rateValue:e.target.value})};var r=n.props.id;return n.state={id:r,rateValue:"1",messageRate:""},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"handleSubmit",value:function(){var e=this.state,t=e.id,a=e.rateValue;fetch(j(t,a)),this.setState({messageRate:"Your rate was sent!"})}},{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement(y.a.Group,{as:f.Row},r.a.createElement(f.Col,{xs:8},r.a.createElement(y.a.Control,{as:"select",value:this.state.value,onChange:this.handleChange},r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4"),r.a.createElement("option",null,"5"))),r.a.createElement(f.Col,{xs:4},r.a.createElement(v.a,{variant:"primary",onClick:this.handleSubmit},"Send!")),r.a.createElement(f.Col,{xs:12},r.a.createElement("div",{className:"green"},this.state.messageRate))))}}]),a}(n.Component)),R=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(u.a)(this,a);var r=(n=t.call(this,e)).props.ingredients;return n.state={servings:1,ingredients:r},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"handleChange",value:function(e){this.setState({servings:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(b.a.Text,null,"Servings:",r.a.createElement("input",{type:"number",className:"ml-2",onChange:this.handleChange})),r.a.createElement(b.a.Body,null,r.a.createElement(b.a.Text,null,"To make this recipe you will need:"),r.a.createElement("ul",null,this.state.ingredients.map((function(t){return r.a.createElement("li",{key:t.name},"".concat(t.quantity*e.state.servings," ").concat(t.unit," of ").concat(t.name))})))))}}]),a}(n.Component),k=function(e){return(e.reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)/e.length).toFixed()},w=a(30),S=a.n(w),x=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(u.a)(this,a),n=t.call(this,e);var r=e.recipe,c=r.name,l=r.ingredients,i=r.imageURL,s=r.steps,o=r.calification,m=r._id;return n.state={showModal:!1,id:m,name:c,ingredients:l,imageURL:i,steps:s,calification:k(o),servings:1},n}return Object(m.a)(a,[{key:"handleModal",value:function(e){this.setState({showModal:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.imageURL,n=t.name,c=t.ingredients,l=t.showModal,i=t.calification,s=t.steps,o=t.id,u=t.servings;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.Col,{xs:12,sm:4},r.a.createElement(b.a,{className:"mb-4"},r.a.createElement(b.a.Img,{variant:"top",src:a}),r.a.createElement(b.a.Body,null,r.a.createElement(b.a.Title,null,n),r.a.createElement(R,{ingredients:c,servings:u}),r.a.createElement(v.a,{variant:"primary",className:"mr-3",onClick:function(){e.handleModal(!0)}},"See Steps"),r.a.createElement(S.a,{numberOfStar:5,numberOfSelectedStar:i,colorEmptyStar:"#AAA",starSize:"35px",spaceBetweenStar:"10px"})))),r.a.createElement(g.a,{show:l,size:"lg"},r.a.createElement(g.a.Header,null,r.a.createElement("h2",null,n)),r.a.createElement(g.a.Body,null,r.a.createElement("p",null,"Steps:"),r.a.createElement("p",null,s),r.a.createElement("hr",null),r.a.createElement("p",null,"Did you like this recipe? ",r.a.createElement("b",null,"Rate it!")),r.a.createElement(O,{id:o,onRate:this.handleModal})),r.a.createElement(g.a.Footer,null,r.a.createElement(v.a,{variant:"primary",className:"mr-3",onClick:function(){e.handleModal(!1)}},"Close"))))}}]),a}(n.Component),N=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.data;return r.a.createElement(r.a.Fragment,null,e&&e.recipes?e.recipes.map((function(e){return r.a.createElement(x,{recipe:e,key:e.name})})):r.a.createElement(E.a,{size:80}))}}]),a}(n.Component),B=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.searchRecipes;return r.a.createElement(y.a,null,r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Label,null,"Search"),r.a.createElement(y.a.Control,{type:"text",placeholder:"Search recipes",onChange:e})))}}]),a}(n.Component),M=function(e){return e?"".concat(C,"/recipes/").concat(e):"".concat(C,"/recipes")},A=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.searchRecipesByRate;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.Row,null,r.a.createElement(f.Col,{xs:12,sm:2},r.a.createElement("button",{className:"btn btn-success mr-3 mb-2 btn-block",onClick:function(){return e([4,5])}},"Best Recipes")),r.a.createElement(f.Col,{xs:12,sm:2},r.a.createElement("button",{className:"btn btn-danger mr-3 mb-2 btn-block",onClick:function(){return e([1,2,3])}},"Worst Recipes")),r.a.createElement(f.Col,{xs:12,sm:2},r.a.createElement("button",{className:"btn btn-primary mb-2 btn-block",onClick:function(){return e([1,2,3,4,5])}},"All scored recipes"))))}}]),a}(n.Component),F=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).searchRecipes=function(e){fetch(M(e.target.value)).then((function(e){return e.json()})).then((function(e){n.setState({data:e})}))},n.state={data:{}},n.searchRecipesByRate=n.searchRecipesByRate.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(M()).then((function(e){return e.json()})).then((function(t){e.setState({data:t})}))}},{key:"searchRecipesByRate",value:function(e){var t=this,a=[];fetch(M()).then((function(e){return e.json()})).then((function(n){n.recipes.map((function(t){return e.includes(parseInt(k(t.calification)))&&a.push(t),null})),n.recipes=a,t.setState({data:n})}))}},{key:"render",value:function(){var e=this.state.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.Row,null,r.a.createElement(f.Col,{md:12},r.a.createElement(B,{searchRecipes:this.searchRecipes}),r.a.createElement(A,{searchRecipesByRate:this.searchRecipesByRate}))),r.a.createElement("hr",null),r.a.createElement(f.Row,null,r.a.createElement(f.Col,{xs:12},r.a.createElement("h2",{className:"mb-3 mt-4"},"List of recipes"))),r.a.createElement(f.Row,null,r.a.createElement(N,{data:e})))}}]),a}(n.Component);a(51);var z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(o.a,null,r.a.createElement(f.Row,{className:"text-center"},r.a.createElement(f.Col,{xs:12},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("img",{src:s.a,className:"App-logo",alt:"logo"}),r.a.createElement("h1",null,"Welcome to ",r.a.createElement("b",null,"Recipe App")),r.a.createElement("p",null,"All you need is a good recipe!")))),r.a.createElement(F,null)),r.a.createElement("div",{className:"footer text-center"},r.a.createElement("p",{className:"pt-2"},"Made with ",r.a.createElement("span",{className:"red"},"\u2764")," by ",r.a.createElement("a",{href:"https://www.linkedin.com/in/matias-azcui-1367b086/"},"MatiasF.Azcui")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.492659ff.chunk.js.map